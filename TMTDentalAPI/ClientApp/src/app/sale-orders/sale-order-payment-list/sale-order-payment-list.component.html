<div class="overflow-auto h-100">
    <table class="table table-sm t-sticky-thead">
        <thead>
            <tr>
                <th>Mã thanh toán</th>
                <th>Ngày thanh toán</th>
                <th>Số tiền</th>
                <th>Phương thức</th>
                <th>Thanh toán</th>
                <th>Nội dung</th>
                <th>Trạng thái</th>
                <th>Thao tác</th>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let payment of paymentHistories">
                <tr *ngFor="let item of payment.payments; let i = index">
                    <td>{{item.name}}</td>
                    <td *ngIf="i == 0" [attr.rowspan]="payment.payments.length">{{payment.date | date : 'shortDate'}}</td>
                    <td *ngIf="i == 0" [attr.rowspan]="payment.payments.length" class="text-right">{{payment.amount | number}}</td>
                    <td>{{item.journalName}}</td>
                    <td class="text-right">{{item.amount | number}}</td>
                    <td>{{item.communication}}</td>
                    <td *ngIf="i == 0" [attr.rowspan]="payment.payments.length" class="text-center">{{getPaymentState(payment.state)}}</td>
                    <td *ngIf="i == 0" [attr.rowspan]="payment.payments.length" class="text-center">
                        <button type="button" class="btn btn-icon btn-light mr-1" (click)="printPayment(payment)">
                            <span class="k-icon k-i-print"></span>
                        </button>
                        <button type="button" class="btn btn-icon btn-light" (click)="deletePayment(payment)">
                            <span class="fa fa-times"></span>
                        </button>
                    </td>
                </tr>
            </ng-container>
        </tbody>
    </table>
</div>