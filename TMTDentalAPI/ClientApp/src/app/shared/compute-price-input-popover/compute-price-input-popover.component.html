<div tabindex="0" [ngbPopover]="popContent" #popOver="ngbPopover" [autoClose]="'outside'" placement="bottom"
    type="button">
    <div class="d-flex justify-content-start">
        <div *ngIf="this.priceObj?.computePrice == 'percentage'" class="border-bottom text-left w-50">{{this.priceObj?.percentPrice}}</div>
        <div *ngIf="this.priceObj?.computePrice != 'percentage'" class="border-bottom text-left w-50">{{this.priceObj?.fixedAmountPrice | number}}</div>
        <div *ngIf="this.priceObj?.computePrice == 'percentage'">%</div>
        <div *ngIf="this.priceObj?.computePrice != 'percentage'">VNĐ</div>
    </div>
</div>
<ng-template #popContent>
    <form [formGroup]="formGroup">
        <div class="form-group d-flex">
            <div class="d-flex mr-2">
                <kendo-numerictextbox class="w-100" *ngIf="this.formGroup.get('computePrice').value == 'percentage'" [min]="0"
                    [max]="100" formControlName="percentPrice" [autoCorrect]="true" [spinners]="false">
                </kendo-numerictextbox>
                <kendo-numerictextbox class="w-100" [format]="'n0'" [min]="0" [autoCorrect]="true"
                    *ngIf="this.formGroup.get('computePrice').value != 'percentage'" [spinners]="false"
                    formControlName="fixedAmountPrice">
                </kendo-numerictextbox>

            </div>
            <div class="d-flex">
                    <input class="btn-check" type="radio" formControlName="computePrice" id="percentage"
                        value="percentage">
                    <label class="btn btn-outline-primary mb-0 mr-1" for="percentage" 
                    [ngClass]="{'btn-primary': this.formGroup.get('computePrice').value == 'percentage'}">%</label>
                    <input class="btn-check" type="radio" formControlName="computePrice" id="fixed"
                        value="fixed_amount">
                    <label class="btn btn-outline-primary mb-0" for="fixed"
                    [ngClass]="{'btn-primary': this.formGroup.get('computePrice').value != 'percentage'}">VNĐ</label>
            </div>
        </div>
    </form>
    <div>
        <button class="btn btn-primary mr-2" (click) = "apply()">Áp dụng</button>
        <button class="btn btn-secondary" (click) = "this.popover.close()">Đóng</button>
    </div>
</ng-template>