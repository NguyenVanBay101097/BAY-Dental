<div class="t_wrapper">
    <div class="d-flex align-items-center justify-content-between">
        <h3 class="treatment-title">Phiếu điều trị</h3>
        <button type="button" (click)="chossesSaleOrder(null)" class="btn btn-primary btn-sm"><i
                class="fas fa-folder-plus"></i> Thêm</button>
    </div>

    <div class="kendo-grid-data">
        <kendo-grid [data]="gridData" [height]="300" [resizable]="true" [loading]="loading">
            <kendo-grid-column [headerStyle]="{'color': 'black', 'font-weight':'600','line-height': '1em'}" field="Name"
                title="Số phiếu" width="100">
                <ng-template kendoGridCellTemplate let-dataItem>
                    <a class="text-primary" (click)="chossesSaleOrder(dataItem.Id)">{{dataItem.Name}}</a>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}"
                field="DateOrder" title="Ngày lập phiếu" width="120">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.DateOrder | date:'short'}}
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column class="text-right"
                [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}" field="AmountTotal"
                title="Tổng tiền" width="120">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.AmountTotal | number}}
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column class="text-right"
                [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}" field="Residual"
                title="Còn lại" width="120">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.Residual | number}}
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}" field="State"
                title="Trạng thái" width="100">
                <ng-template kendoGridCellTemplate let-dataItem>
                    <span *ngIf="dataItem.state === 'Draft'">Nháp</span>
                    <span *ngIf="dataItem.state === 'Done'">Hoàn thành</span>
                    <span *ngIf="dataItem.state === 'Sale'">Đang điều trị</span>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}" title="#"
                width="40">
                <ng-template kendoGridCellTemplate let-dataItem>
                    <button type="button" class="btn btn-icon btn-sm btn-light" (click)="deleteItem(dataItem)">
                        <span class="k-icon k-i-delete"></span>
                    </button>
                </ng-template>
            </kendo-grid-column>
            <div *kendoGridDetailTemplate="let dataItem">
                <app-partner-overview-sale-order-line [saleOrderId]="dataItem.Id">
                </app-partner-overview-sale-order-line>
            </div>
        </kendo-grid>
    </div>

</div>