<div class="t_wrapper">
    <div class="d-flex align-items-center justify-content-between">
        <h3 class="treatment-title">Phiếu điều trị</h3>
        <button type="button" (click)="chossesSaleOrder(null)" class="btn btn-primary btn-sm"><i
                class="fas fa-folder-plus"></i> Thêm</button>
    </div>

    <div class="kendo-grid-data">
        <kendo-grid [data]="gridData" [height]="300" [pageSize]="limit" [resizable]="true" [skip]="skip"
            [loading]="loading">
            <kendo-grid-column [headerStyle]="{'color': 'black', 'font-weight':'600','line-height': '1em'}" field="name"
                title="Số phiếu" width="100">
                <ng-template kendoGridCellTemplate let-dataItem>
                    <a class="text-primary" (click)="chossesSaleOrder(dataItem.id)">{{dataItem.name}}</a>
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}"
                field="dateOrder" title="Ngày lập phiếu" width="120">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.dateOrder | date:'short'}}
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column class="text-right"
                [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}" field="amountTotal"
                title="Tổng tiền" width="120">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.amountTotal | number}}
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column class="text-right"
                [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}" field="residual"
                title="Còn lại" width="120">
                <ng-template kendoGridCellTemplate let-dataItem>
                    {{dataItem.residual | number}}
                </ng-template>
            </kendo-grid-column>
            <kendo-grid-column [headerStyle]="{'color': 'black','font-weight':'600','line-height': '1em'}" field="state" title="Trạng thái" width="100">
                <ng-template kendoGridCellTemplate let-dataItem>
                    <span *ngIf="dataItem.state === 'draft'">Nháp</span>
                    <span *ngIf="dataItem.state === 'done'">Hoàn thành</span>
                    <span *ngIf="dataItem.state === 'sale'">Đang điều trị</span>
                </ng-template>
            </kendo-grid-column>
            <div *kendoGridDetailTemplate="let dataItem">
                <app-partner-overview-sale-order-line [saleOrderId]="dataItem.id">
                </app-partner-overview-sale-order-line>
            </div>
        </kendo-grid>
    </div>

</div>