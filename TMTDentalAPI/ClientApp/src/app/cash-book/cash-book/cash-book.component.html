<div class="o_control_panel">
    <ol class="breadcrumb">
        <li class="active">Sổ quỹ tiền</li>
    </ol>
    <div class="o_cp_searchview">

    </div>
    <div class="o_cp_left">
        <div class="o_cp_buttons">
            <div class="o_form_buttons_view">
                <button type="button" class="btn btn-primary btn-sm" (click)="createItem('thu')">
                    <i class="fas fa-plus mr-2"></i>Phiếu thu
                </button>
                <button type="button" class="btn btn-primary btn-sm" (click)="createItem('chi')">
                    <i class="fas fa-plus mr-2"></i>Phiếu chi
                </button>
                <button type="button" class="btn btn-secondary btn-sm" (click)="exportFile()">
                    <i class="fas fa-download mr-2"></i>Xuất file
                </button>
            </div>
        </div>
        <div class="o_cp_sidebar">

        </div>
    </div>
    <div class="o_cp_right">

    </div>
</div>

<div class="p-3">
    <div class="d-flex">
        <div class="card border-secondary mr-2">
            <div class="card-body">
                <div class="text-center">
                    <span class="font-weight-bold">Tổng quỹ tiền mặt</span>
                    <h4 class="text-warning">{{reportCashData.totalAmount | number}}</h4>
                </div>
            </div>
        </div>
        <div class="card border-secondary mr-2">
            <div class="card-body">
                <div class="text-center">
                    <span class="font-weight-bold">Tổng quỹ ngân hàng</span>
                    <h4 class="text-primary">{{reportBankData.totalAmount | number}}</h4>
                </div>
            </div>
        </div>
        <div class="card border-secondary mr-2">
            <div class="card-body">
                <div class="text-center">
                    <span class="font-weight-bold">Tổng sổ quỹ</span>
                    <h4 class="text-success">{{(reportCashData.totalAmount + reportBankData.totalAmount) | number}}</h4>
                </div>
            </div>
        </div>
    </div>
    <div class="my-3 d-flex justify-content-between">
        <div class="d-flex">
            <app-tai-date-range-filter-dropdown class="mr-2" title="Thời gian" 
                [dateFrom]="paged.dateFrom" 
                [dateTo]="paged.dateTo" 
                [quickOption]="quickOptionDate"
                (searchChange)="searchChangeDate($event)">
            </app-tai-date-range-filter-dropdown>
            <select class="form-control form-control-sm w-fit-content mr-2" (change)="changeType($event.target.value)">
                <option value="">Loại chứng từ</option>
                <option value="inbound">Phiếu thu</option>
                <option value="outbound">Phiếu chi</option>
            </select>
        </div>
        <div class="t-search t-search-right">
            <input type="text" class="form-control form-control-sm w-fit-content" placeholder="Tìm kiếm theo số phiếu"
                [(ngModel)]="paged.search" (ngModelChange)="this.searchUpdate.next($event)">
            <span class="fas fa-search form-control-icon form-control-sm"></span>
        </div>
    </div>
    <div>
        <nav>
            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                <a class="nav-item nav-link active" data-toggle="tab" href="#nav-1" role="tab" aria-controls="nav-1"
                    aria-selected="true" (click)="clickTab('cash')">Tiền mặt</a>
                <a class="nav-item nav-link" data-toggle="tab" href="#nav-1" role="tab" aria-controls="nav-1"
                    aria-selected="false" (click)="clickTab('bank')">Ngân hàng</a>
                <a class="nav-item nav-link" data-toggle="tab" href="#nav-1" role="tab" aria-controls="nav-1"
                    aria-selected="false" (click)="clickTab('cash_bank')">Tổng sổ quỹ</a>
            </div>
        </nav>
        <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane show active" id="nav-1" role="tabpanel">
                <app-cash-book-tab-cash-bank [paged]="paged" [changeToLoadData]="changeToLoadData"></app-cash-book-tab-cash-bank>
            </div>
        </div>
    </div>
</div>