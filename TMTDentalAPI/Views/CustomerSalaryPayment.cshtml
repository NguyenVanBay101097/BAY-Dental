@model Umbraco.Web.Models.ContentEditing.AccountPaymentPrintVM

@{
    Layout = null;
}

<html>
<head>
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/custom.css" />

    <style>
        .body {
            font-size: 18px;
        }

        .table td, .table th {
            border-top: unset !important;
        }

        .title {
            padding: 15px;
        }

        .active {
            background-color: #adb5bd;
        }

        .page-break {
            page-break-before: always;
        }

            .page-break:first-child {
                page-break-before: avoid;
            }

        .logo-image {
            min-width: 150px;
        }
    </style>
</head>
<body>
    @if (Model != null)
    {
        var info = System.Globalization.CultureInfo.GetCultureInfo("vi-VN");
        <div class="body py-3 overflow-auto page-break px-3 ">
            <div class="row">
                @if (!string.IsNullOrEmpty(Model.CompanyLogo))
                {
                    <div style="min-width:300px; max-width:300px">
                        <div style="text-align: center;">
                            <div class="logo">
                                <img class="logo-image" src="@Model.CompanyLogo" alt="">
                            </div>
                        </div>

                    </div>
                }
                <div class="col">
                    <div class="title text-left" style="line-height: 1rem">
                        <h3>@Model.CompanyName</h3>
                        <p>Địa chỉ: @(Model.CompanyAddress)</p>
                        <p>Điện thoại: @(Model.CompanyPhone)</p>
                        <p>Email: @(Model.CompanyEmail)</p>
                    </div>
                </div>
            </div>
            <div class="pt-3">
                <div class="text-center pb-3 mb-3">
                    <h2>BIÊN LAI THANH TOÁN</h2>
                </div>
                <div class="d-flex">
                    <div class="h-100 w-50 pr-2">
                        <table class="table table-sm">
                            <tbody>
                                <tr>
                                    <td style="max-width:50px; font-weight: bold">Ngày thanh toán</td>
                                    <td>@(Model.PaymentDate.ToShortDateString())</td>
                                </tr>
                                <tr>
                                    <td style="max-width: 50px; font-weight: bold">Phương thức</td>
                                    <td>@(Model.JournalName)</td>
                                </tr>
                                <tr>
                                    <td style="max-width: 50px; font-weight: bold">
                                        Sô tiền
                                    </td>
                                    <td>@(string.Format(info, "{0:0,0}", Model.Amount))</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="h-100 w-50 pl-2">
                        <table class="table table-sm">
                            <tbody>
                                <tr>
                                    <td style="font-weight: bold">Khách hàng</td>
                                    <td>@(Model.PartnerDisplayName)</td>
                                </tr>
                                <tr>
                                    <td style="font-weight: bold">Địa chỉ</td>
                                    <td>@(Model.PartnerAddress)</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="body-content mt-3">
                <div class="h-100 w-100">
                    <table class="table table-bordered  table-sm">
                        <thead>
                            <tr>
                                <th>Số phiếu điều trị</th>
                                <th>Ngày lập phiếu</th>
                                <th>Tổng tiền</th>
                                <th>Tổng thanh toán</th>
                                <th>Còn lại</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.SaleOrders)
                            {
                                <tr>
                                    <td>@(item.Name)</td>
                                    <td>@(item.DateOrder)</td>
                                    <td>@(item.AmountTotal.HasValue ? string.Format(info, "{0:0,0}", item.AmountTotal.Value) : "0")</td>
                                    <td>@(string.Format(info, "{0:0,0}", item.AmountTotal.HasValue && item.Residual.HasValue ? (item.AmountTotal - item.Residual) : 0 ))</td>
                                    <td>@(item.Residual.HasValue ? string.Format(info, "{0:0,0}", item.Residual.Value) : "0")</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                    <table style="width: 100%; border: none">
                        <thead>
                            <tr>
                                <th class="text-center w-50">Khách hàng</th>
                                <th class="text-center w-50">Người lập</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="text-center w-50">@Model.PartnerName</td>
                                <td class="text-center w-50">@Model.UserName</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>


    }
</body>
</html>