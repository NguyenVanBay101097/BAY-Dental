<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TDental.vn</title>

    <!-- Load paper.css for happy printing -->
    @*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.4.1/paper.css">*@

    @*<link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.css" />*@
    <link rel="stylesheet" type="text/css" href="/css/print.css" />
    <style>
        @@page {
            size: A4 landscape !important;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div>

            <div class="d-flex mb-2">
                {% if company.logo %}

                <img class="img-fluid me-3 w-20" src="{{company.logo}}" alt="{{company.name}}">

                {% endif %}
                <div>
                    <div class="text-xl font-semibold">{{company.name}}</div>
                    {% if company.partner %}

                    <div>Địa chỉ: {{company.partner.GetAddress()}}</div>

                    {% endif %}

                    {% if company.phone %}

                    <div>ĐT: {{company.phone}}</div>

                    {% endif %}

                    {% if company.email %}

                    <div>Email: {{company.email}}</div>

                    {% endif %}

                </div>
            </div>


            <div class="text-center mb-2">
                <div class="text-3xl font-semibold">ĐƠN THUỐC</div>
                <div>Ngày {{date.Day}} tháng {{date.Month}} năm {{date.Year}} </div>
                <div class="font-semibold">Số: {{name}}</div>
            </div>
            <div class="o_form_view">
                <div class="o_group">
                    <table class="o_group o_inner_group o_group_col_8">
                        <tbody>
                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Khách hàng
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">{{partner.displayName}}</td>
                            </tr>
                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Địa chỉ
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">{{partner.GetAddress()}}</td>
                            </tr>
                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Bác sĩ
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">{{employee == null ? "" : employee.name}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="o_group o_inner_group o_group_col_4">
                        <tbody>
                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Giới tính
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">{{partner.GetGender()}}</td>
                            </tr>

                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Tuổi
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">{{partner.GetAge()}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div>
                <table class="table table-sm table-borderless">
                    <tbody>
                        @{ var index = 1; }
                        {{ for line in lines }}
                        <tr>
                            <td width="30"><span class="font-semibold">@(index++).</span></td>
                            <td>
                                <div class="d-flex justify-content-between">
                                    <div class="font-semibold">{{line.product.Name}}</div>
                                    <div>
                                        <span class="font-semibold">{{line.quantity}}</span>
                                        {{line.product.uom.name}}
                                    </div>
                                </div>
                                <div>
                                    Ngày uống <span class="font-semibold">{{line.numberOfTimes}}</span> lần,
                                    mỗi lần <span class="font-semibold">{{line.amountOfTimes}}</span> {{line.product.uom.mame}},
                                    uống trong <span class="font-semibold">{{line.numberOfDays}}</span> ngày (<span class="font-semibold">{{line.GetUseAtDisplay()}}</span>)
                                </div>
                            </td>
                        </tr>
                        {{ end }}
                    </tbody>
                </table>
            </div>
            <div>
                <div class="o_form_view mb-2">
                    <table class="o_group o_inner_group">
                        <tbody>
                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Lời dặn
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">{{note}}</td>
                            </tr>
                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Chẩn đoán bệnh
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">{{diagnostic}}</td>
                            </tr>
                            <tr>
                                <td colspan="1" class="o_td_label">
                                    <label class="o_form_label o_form_label_help">
                                        Tái khám
                                    </label>
                                </td>
                                <td colspan="1" style="width: 100%;">
                                    {{reExaminationDate.HasValue ? Model.ReExaminationDate.Value.ToString("dd/MM/yyyy") : ""}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <div class="text-center">
                        <span class="font-semibold">Bác sĩ</span> <br />
                        <i>(Ký, họ tên)</i> <br />
                        <span></span> <br />
                        <span></span> <br />
                        <span></span> <br />
                        <span class="font-semibold">{{employee == null ? "" : employee.name.ToUpper()}}</span>
                    </div>
                </div>
                <div class="col">
                    <div class="text-center">
                        <span class="font-semibold"> Bệnh nhân</span> <br />
                        <i>(Ký, họ tên)</i> <br />
                        <span></span> <br />
                        <span></span> <br />
                        <span></span> <br />
                        <span class="font-semibold">{{partner.name.ToUpper()}}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>



